(function(h,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(h=typeof globalThis<"u"?globalThis:h||self,e(h.Vue3Tournament={},h.Vue))})(this,function(h,e){"use strict";const p=e.defineComponent({name:"GameMatch",props:{bracketNode:{type:Object,default:()=>({})},highlightedTeamId:{type:[String,Number],default:void 0}},setup(t,{emit:o}){return{getPlayerClass:a=>{let n="";return t.highlightedTeamId===a.id&&!a.disabled&&(n+=" highlight"),a.disabled&&(n+=" disabled"),n},onClick:a=>{var n,r,l;o("onMatchClick",(r=(n=t.bracketNode)==null?void 0:n.match)==null?void 0:r.id),o("onParticipantClick",a,(l=t.bracketNode)==null?void 0:l.match)},highlightTeam:a=>{o("onSelectedTeam",a)},unhighlightTeam:()=>{o("onDeselectedTeam")}}}}),g=(t,o)=>{const c=t.__vccOpts||t;for(const[d,s]of o)c[d]=s;return c},C={class:"vt-item-feedIn"},P={class:"title"},N={class:"name"};function b(t,o,c,d,s,m){var a,n;return e.openBlock(),e.createElementBlock("div",C,[e.createElementVNode("div",null,[e.renderSlot(t.$slots,"match.title",e.normalizeProps(e.guardReactiveProps({match:(a=t.bracketNode)==null?void 0:a.match})),()=>{var r,l;return[e.createElementVNode("div",P,[e.createElementVNode("span",null,e.toDisplayString((l=(r=t.bracketNode)==null?void 0:r.match)==null?void 0:l.title),1)])]}),e.createElementVNode("div",{class:e.normalizeClass(["vt-feedIn",t.getPlayerClass(t.bracketNode.match.feedIn)]),onMouseover:o[0]||(o[0]=r=>t.highlightTeam(t.bracketNode.match.feedIn.id)),onMouseleave:o[1]||(o[1]=(...r)=>t.unhighlightTeam&&t.unhighlightTeam(...r)),onClick:o[2]||(o[2]=r=>t.onClick(t.bracketNode.match.feedIn))},[e.renderSlot(t.$slots,"feedIn",e.normalizeProps(e.guardReactiveProps({team:(n=t.bracketNode.match)==null?void 0:n.feedIn,match:t.bracketNode.match})),()=>{var r,l;return[e.createElementVNode("span",N,e.toDisplayString((l=(r=t.bracketNode.match)==null?void 0:r.feedIn)==null?void 0:l.name),1)]})],34)])])}const f=g(p,[["render",b]]),T=e.defineComponent({name:"GameMatch",props:{bracketNode:{type:Object,default:()=>({})},highlightedTeamId:{type:[String,Number],default:void 0}},setup(t,{emit:o}){return{getPlayerClass:a=>{var r,l;let n="";return((r=t.bracketNode.match)==null?void 0:r.winner)!==void 0&&a.id===((l=t.bracketNode.match)==null?void 0:l.winner)&&(n="winner"),t.highlightedTeamId===a.id&&!a.disabled&&(n+=" highlight"),a.disabled&&(n+=" disabled"),n},onClick:a=>{var n,r,l;o("onMatchClick",(r=(n=t.bracketNode)==null?void 0:n.match)==null?void 0:r.id),o("onParticipantClick",a,(l=t.bracketNode)==null?void 0:l.match)},highlightTeam:a=>{o("onSelectedTeam",a)},unhighlightTeam:()=>{o("onDeselectedTeam")}}}}),S={class:"vt-item-teams"},$={class:"title"},y={class:"name"},B={key:0,class:"score"},O={class:"name"},z={key:0,class:"score"};function M(t,o,c,d,s,m){return e.openBlock(),e.createElementBlock("div",S,[e.createElementVNode("div",null,[e.renderSlot(t.$slots,"match.title",e.normalizeProps(e.guardReactiveProps({match:t.bracketNode.match})),()=>{var a;return[e.createElementVNode("div",$,[e.createElementVNode("span",null,e.toDisplayString((a=t.bracketNode.match)==null?void 0:a.title),1)])]}),e.createElementVNode("div",{class:e.normalizeClass(["vt-team","vt-team-top",t.getPlayerClass(t.bracketNode.match.team1)]),onMouseover:o[0]||(o[0]=a=>t.highlightTeam(t.bracketNode.match.team1.id)),onMouseleave:o[1]||(o[1]=(...a)=>t.unhighlightTeam&&t.unhighlightTeam(...a)),onClick:o[2]||(o[2]=a=>t.onClick(t.bracketNode.match.team1))},[e.renderSlot(t.$slots,"team",e.normalizeProps(e.guardReactiveProps({team:t.bracketNode.match.team1,match:t.bracketNode.match})),()=>[e.renderSlot(t.$slots,"team.name",e.normalizeProps(e.guardReactiveProps({team:t.bracketNode.match.team1,match:t.bracketNode.match})),()=>[e.createElementVNode("span",y,e.toDisplayString(t.bracketNode.match.team1.name),1)]),e.renderSlot(t.$slots,"team.score",e.normalizeProps(e.guardReactiveProps({team:t.bracketNode.match.team1,match:t.bracketNode.match})),()=>[t.bracketNode.match.team1.score!=null&&t.bracketNode.match.team1.score>=0?(e.openBlock(),e.createElementBlock("span",B,e.toDisplayString(t.bracketNode.match.team1.score),1)):e.createCommentVNode("",!0)])])],34),e.createElementVNode("div",{class:e.normalizeClass(["vt-team","vt-team-bot",t.getPlayerClass(t.bracketNode.match.team2)]),onMouseover:o[3]||(o[3]=a=>t.highlightTeam(t.bracketNode.match.team2.id)),onMouseleave:o[4]||(o[4]=(...a)=>t.unhighlightTeam&&t.unhighlightTeam(...a)),onClick:o[5]||(o[5]=a=>t.onClick(t.bracketNode.match.team2))},[e.renderSlot(t.$slots,"team",e.normalizeProps(e.guardReactiveProps({team:t.bracketNode.match.team2,match:t.bracketNode.match})),()=>[e.renderSlot(t.$slots,"team.name",e.normalizeProps(e.guardReactiveProps({team:t.bracketNode.match.team2,match:t.bracketNode.match})),()=>[e.createElementVNode("span",O,e.toDisplayString(t.bracketNode.match.team2.name),1)]),e.renderSlot(t.$slots,"team.score",e.normalizeProps(e.guardReactiveProps({team:t.bracketNode.match.team2,match:t.bracketNode.match})),()=>[t.bracketNode.match.team2.score!=null&&t.bracketNode.match.team2.score>=0?(e.openBlock(),e.createElementBlock("span",z,e.toDisplayString(t.bracketNode.match.team2.score),1)):e.createCommentVNode("",!0)])])],34)])])}const R=g(T,[["render",M]]),I=e.defineComponent({name:"BracketNode",components:{GameMatch:R,FeedIn:f},props:{bracketNode:{type:Object,default:()=>({})},highlightedTeamId:{type:[String,Number],default:void 0}},setup(t,{emit:o}){return{matchArePresent:e.computed(()=>t.bracketNode.match!==void 0),getBracketNodeClass:r=>r.children[0]||r.children[1]?"vt-item-parent":r.hasParent?"vt-item-child":"",onMatchClick:r=>{o("onMatchClick",r)},highlightTeam:r=>{o("onSelectedTeam",r)},unhighlightTeam:()=>{o("onDeselectedTeam")},onParticipantClick:(r,l)=>{o("onParticipantClick",r,l)}}}}),w={key:0,class:"vt-item"},V={key:2,class:"vt-item-children"},E={key:0,class:"vt-item-child"},D={key:1,class:"vt-item-child"};function j(t,o,c,d,s,m){var l,k;const a=e.resolveComponent("FeedIn"),n=e.resolveComponent("GameMatch"),r=e.resolveComponent("BracketNode",!0);return t.matchArePresent?(e.openBlock(),e.createElementBlock("div",w,[((k=(l=t.bracketNode)==null?void 0:l.match)==null?void 0:k.feedIn)!==void 0?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(t.getBracketNodeClass(t.bracketNode))},[e.createVNode(a,{"bracket-node":t.bracketNode,"highlighted-team-id":t.highlightedTeamId,onOnSelectedTeam:t.highlightTeam,onOnDeselectedTeam:t.unhighlightTeam,onOnMatchClick:t.onMatchClick,onOnParticipantClick:t.onParticipantClick},{"match.title":e.withCtx(i=>[e.renderSlot(t.$slots,"match.title",e.normalizeProps(e.guardReactiveProps(i)))]),feedIn:e.withCtx(i=>[e.renderSlot(t.$slots,"feedIn",e.normalizeProps(e.guardReactiveProps(i)))]),_:3},8,["bracket-node","highlighted-team-id","onOnSelectedTeam","onOnDeselectedTeam","onOnMatchClick","onOnParticipantClick"])],2)):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(t.getBracketNodeClass(t.bracketNode))},[e.createVNode(n,{"bracket-node":t.bracketNode,"highlighted-team-id":t.highlightedTeamId,onOnSelectedTeam:t.highlightTeam,onOnDeselectedTeam:t.unhighlightTeam,onOnMatchClick:t.onMatchClick,onOnParticipantClick:t.onParticipantClick},{"match.title":e.withCtx(i=>[e.renderSlot(t.$slots,"match.title",e.normalizeProps(e.guardReactiveProps(i)))]),team:e.withCtx(i=>[e.renderSlot(t.$slots,"team",e.normalizeProps(e.guardReactiveProps(i)))]),"team.name":e.withCtx(i=>[e.renderSlot(t.$slots,"team.name",e.normalizeProps(e.guardReactiveProps(i)))]),"team.score":e.withCtx(i=>[e.renderSlot(t.$slots,"team.score",e.normalizeProps(e.guardReactiveProps(i)))]),_:3},8,["bracket-node","highlighted-team-id","onOnSelectedTeam","onOnDeselectedTeam","onOnMatchClick","onOnParticipantClick"])],2)),t.bracketNode.children[0]||t.bracketNode.children[1]?(e.openBlock(),e.createElementBlock("div",V,[t.bracketNode.children[0]?(e.openBlock(),e.createElementBlock("div",E,[e.createVNode(r,{"bracket-node":t.bracketNode.children[0],"highlighted-team-id":t.highlightedTeamId,onOnSelectedTeam:t.highlightTeam,onOnDeselectedTeam:t.unhighlightTeam,onOnMatchClick:t.onMatchClick,onOnParticipantClick:t.onParticipantClick},{"match.title":e.withCtx(i=>[e.renderSlot(t.$slots,"match.title",e.normalizeProps(e.guardReactiveProps(i)))]),team:e.withCtx(i=>[e.renderSlot(t.$slots,"team",e.normalizeProps(e.guardReactiveProps(i)))]),"team.name":e.withCtx(i=>[e.renderSlot(t.$slots,"team.name",e.normalizeProps(e.guardReactiveProps(i)))]),"team.score":e.withCtx(i=>[e.renderSlot(t.$slots,"team.score",e.normalizeProps(e.guardReactiveProps(i)))]),feedIn:e.withCtx(i=>[e.renderSlot(t.$slots,"feedIn",e.normalizeProps(e.guardReactiveProps(i)))]),_:3},8,["bracket-node","highlighted-team-id","onOnSelectedTeam","onOnDeselectedTeam","onOnMatchClick","onOnParticipantClick"])])):e.createCommentVNode("",!0),t.bracketNode.children[1]?(e.openBlock(),e.createElementBlock("div",D,[e.createVNode(r,{"bracket-node":t.bracketNode.children[1],"highlighted-team-id":t.highlightedTeamId,onOnSelectedTeam:t.highlightTeam,onOnDeselectedTeam:t.unhighlightTeam,onOnMatchClick:t.onMatchClick,onOnParticipantClick:t.onParticipantClick},{"match.title":e.withCtx(i=>[e.renderSlot(t.$slots,"match.title",e.normalizeProps(e.guardReactiveProps(i)))]),team:e.withCtx(i=>[e.renderSlot(t.$slots,"team",e.normalizeProps(e.guardReactiveProps(i)))]),"team.name":e.withCtx(i=>[e.renderSlot(t.$slots,"team.name",e.normalizeProps(e.guardReactiveProps(i)))]),"team.score":e.withCtx(i=>[e.renderSlot(t.$slots,"team.score",e.normalizeProps(e.guardReactiveProps(i)))]),feedIn:e.withCtx(i=>[e.renderSlot(t.$slots,"feedIn",e.normalizeProps(e.guardReactiveProps(i)))]),_:3},8,["bracket-node","highlighted-team-id","onOnSelectedTeam","onOnDeselectedTeam","onOnMatchClick","onOnParticipantClick"])])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)}const G=g(I,[["render",j]]),A=t=>{if(!t)return;const o=t.length;let c=[],d=[],s=0;for(let m=0;m<o;m++){if(c=t[m].matchs.map(a=>(s++,a.id=a.id??s,a.title=a.title??String(s),{match:a,children:[],hasParent:!!t[m+1]})),d.length===0){d=c;continue}for(let a=0;a<d.length;a++){const n=Math.floor(a/2);c[n].children.push(d[a])}d=c}return c[0]||void 0},F=e.defineComponent({components:{BracketNode:G},props:{rounds:{type:Array,default:()=>[]},format:{type:String,default:"default"},textColor:{type:String,default:"#ffffff"},titleColor:{type:String,default:"#9d999d"},teamBackgroundColor:{type:String,default:"#59595e"},highlightTeamBackgroundColor:{type:String,default:"#222222"},scoreBackgroundColor:{type:String,default:"#787a7f"},winnerScoreBackgroundColor:{type:String,default:"#ee7b3c"}},setup(t,{emit:o}){const c=e.ref(void 0),d=l=>{o("onMatchClick",l)},s=(l,k)=>{o("onParticipantClick",l,k)},m=l=>{c.value=l},a=()=>{c.value=void 0},n=e.computed(()=>{let l=t.rounds;return A(l)}),r=e.computed(()=>({"--text-color":t.textColor,"--title-color":t.titleColor,"--team-background-color":t.teamBackgroundColor,"--highlight-team-background-color":t.highlightTeamBackgroundColor,"--score-background-color":t.scoreBackgroundColor,"--winner-score-background-color":t.winnerScoreBackgroundColor}));return{highlightedTeamId:c,onMatchClick:d,onParticipantClick:s,highlightTeam:m,unhighlightTeam:a,recursiveBracket:n,cssVars:r}}});function q(t,o,c,d,s,m){const a=e.resolveComponent("BracketNode");return t.recursiveBracket?(e.openBlock(),e.createElementBlock("div",{key:0,class:"vt-wrapper",style:e.normalizeStyle(t.cssVars)},[e.createVNode(a,{"bracket-node":t.recursiveBracket,"highlighted-team-id":t.highlightedTeamId,onOnSelectedTeam:t.highlightTeam,onOnDeselectedTeam:t.unhighlightTeam,onOnMatchClick:t.onMatchClick,onOnParticipantClick:t.onParticipantClick},{"match.title":e.withCtx(n=>[e.renderSlot(t.$slots,"match.title",e.normalizeProps(e.guardReactiveProps(n)))]),team:e.withCtx(n=>[e.renderSlot(t.$slots,"team",e.normalizeProps(e.guardReactiveProps(n)))]),"team.name":e.withCtx(n=>[e.renderSlot(t.$slots,"team.name",e.normalizeProps(e.guardReactiveProps(n)))]),"team.score":e.withCtx(n=>[e.renderSlot(t.$slots,"team.score",e.normalizeProps(e.guardReactiveProps(n)))]),feedIn:e.withCtx(n=>[e.renderSlot(t.$slots,"feedIn",e.normalizeProps(e.guardReactiveProps(n)))]),_:3},8,["bracket-node","highlighted-team-id","onOnSelectedTeam","onOnDeselectedTeam","onOnMatchClick","onOnParticipantClick"])],4)):e.createCommentVNode("",!0)}const H=g(F,[["render",q]]);h.TournamentBracket=H,Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});
